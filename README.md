# solidity

솔리디티는 스마트 컨트랙트를 개발하기 위한 언어이다.

스마트 컨트랙트는 미리 정의된 조건을 충족하면,

블록체인 안에 저장된 프로그램이 실행되는 것이다.

## Solidity의 타입

1. data type
    - boolean : true, false
    - bytes : 바이트를 나타낸다.
        - 4bytes
        - 10bytes 등등
    - address : 주소를 나타내며, CA, EOA등이 이에 해당한다.
    - uint: int와 uint가 있는데 int는 마이너스, uint는 양수를 표현할 수 있다.
        - uint8 public a = 256 이면 에러가 난다.

2. reference type
    - string
    - Arrays
    - struct

3. mapping type

## Ether의 단위

1 ether는 = 10^9 Gwei = 10 ^ 18 wei

Gwei는 가스를 지불할 때 단위이다.
가스란? 스마트 컨트랙트를 사용할 때 지불하는 비용이다.
기름과 비슷하게 스마트 컨트랙트를 사용할 때 쓰는 연료라고 한다.
비용의 산출은 스마트 컨트랙트가 길면 길수록 가스 비용이 늘어난다.
간단한 스마트 컨트랙트는 가스가 들지 않는다.
하지만, 긴 스마트 컨트랙트는 가스가 많이 들게된다.

보안적인 측면에서도 가스를 이용하기 때문에 방지가 된다.

악의적인 해커가 코드를 계속 실행시킨다면
지속적인 코드 실행시 가스가 계속 들기 때문에
해커는 비용을 많이 지불하게 된다.

하지만 개발시 가스때문에 부담을 느끼게 되므로 개발시 걸림돌이 되기도 한다.



10의 18제곱 웨이가 모이면 1 eth라고 할 수 있다.
0.01ether는 10^16 wei

솔리디티 문법에서도 ether, wei, gwei라는 단위를 지원하기 때문에
우리가 직접 10^18, 10^9라는 단위를 적어주지 않아도 된다.

## function

function 이름 () 접근제한자 {}
function 이름 (타입 파라미터) 접근제한자 {}
function 이름 (타입 파라미터) 접근제한자 {}

함수 정의시 3가지의 경우의 수가 있다.

매개변수와 리턴값이 없는 경우
매개변수는 있으나 리턴값이 없는 경우
매개변수와 리턴값이 둘다 있는 경우

## 접근제한자

public : 모든 곳에서 접근이 가능
external : 퍼블릭과 유사하지만, 다른 컨트랙트가 접근해야할때만 접근가능( 내부에서 접근 불가)
private : 프라이빗이 정의된 자기 컨트랙에서만 접근가능( private이 정의된 컨트랙을 상속 받은 자식도 불가능)
internal : 프라이빗과 유사, 상속받은 컨트랙도 접근가능


## pure와 view

접근제한자 앞뒤로 사용이 가능하다.

view: function 밖의 변수들을 읽을 수 있으나 변경이 불가능

pure: function 밖의 변수들을 읽을 수 없고, 변경도 불가능

둘다 아닐경우, 변수들을 읽고, 변경 해야한다.


## solidity의 저장방식

- storage: 대부분의 변수, 함수가 저장되는 곳, 영속적으로 저장된다.
    - 블록에 들어가니까, 가스비용이 비싸다.
- memory: 함수 안의값, 파라미터, 리턴, 레퍼런스 타입을 사용할 경우.
    - 함수가 작동할 때만 유효, 영속성이 없기 떄문에 스토리지 보다 가스가 싸다.
- calldata: external function 의 파라미터에서 사용
- stack: EVM에서 stack data를 관리할 때 쓰는 영역 1024mb로 제한적.


## instance를 사용하는 이유

하나의 컨트랙트에서 다른 컨트랙트에 접근한다.

[컨트랜트 이름] [생성할 인스턴스 명] = new [컨트랙트]();

## constructor()

변수의 값을 초기화 할때 사용한다.

변수의 파라미터 값을 받고 스마트 컨트랙트를 생성할때,